{% extends './base.html' %}

{% block main %}
<div
    class="absolute top-1/2 left-1/2 z-50 -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl shadow-xl flex flex-col items-center font-semibold py-10 gap-5">
    <span class="text-xl select-none">Create New Account</span>

    <form action="" method="POST" class="text-sm flex flex-col w-full px-10 gap-5 mt-3">
        {% csrf_token %}
        {% include 'base/alert.html' %}

        <div class="font-normal flex gap-8">
            <input id="first_name" name="first_name" required autofocus placeholder="First name" type="text"
                class="w-24 border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1 transition-colors duration-300">
            <input id="last_name" name="last_name" required placeholder="Last name" type="text"
                class="w-24 border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1">
        </div>

        <div class="flex gap-5 items-center">
            <label for="phone_number" class="pt-0.5">+91</label>
            <input id="phone_number" name="phone_number" required placeholder="Phone no." type="tel"
                oninput="this.value = this.value.replace(/\D/g, '').slice(0, 10)"
                class="w-full font-normal border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1">
        </div>

        <input id="email" placeholder="E-mail (optional)" name="email" type="email"
            class="font-normal border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1">

        <input id="password" required placeholder="Enter your password" type="password"
            class="font-normal border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1">

        <input id="confirm_password" required placeholder="Re-enter your password" type="password" name="password"
            class="font-normal border-b-2 border-slate-800 outline-none focus:border-b-blue-400 py-1">

        <div class="flex gap-2 items-center font-normal text-xs">
            <input type="checkbox" name="" required id="termNcondition"
                class="form-checkbox text-blue-500 border-blue-500">
            <label for="termNcondition">I accept the <a href="#"
                    class="hover:underline text-blue-500 font-semibold">terms &amp; conditions</a>.</label>
        </div>

        <button type="submit" title="sign up"
            class="py-2 rounded-md text-slate-100 bg-blue-500 shadow hover:bg-blue-500/90">Create
            Account</button>

    </form>

    <div class="text-xs">
        <span>Already a user? </span>
        <a href="/accounts/login/" class="hover:underline text-blue-500">Log in</a>
    </div>
</div>


<script>

    document.addEventListener('DOMContentLoaded', function () {
        const password = document.getElementById('password');
        const confirm_password = document.getElementById('confirm_password');

        function validatePassword() {
            if (password.value != confirm_password.value) {
                confirm_password.setCustomValidity("Passwords do not match");
            } else {
                confirm_password.setCustomValidity('');
            }
        }

        password.addEventListener('input', validatePassword);
        confirm_password.addEventListener('input', validatePassword);
    });
</script>


{% endblock main %}